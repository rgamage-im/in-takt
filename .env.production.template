# Azure App Service Environment Variables Configuration Guide
# =============================================================
# These environment variables should be set in Azure Portal:
# App Service > Configuration > Application settings

# CRITICAL: Set these first before deployment!

# Django Configuration
DJANGO_SECRET_KEY=<generate-a-new-secret-key-use-python-secrets>
DJANGO_DEBUG=False
DJANGO_ALLOWED_HOSTS=in-tackt-portal-fph9efdudwd5gze6.westus2-01.azurewebsites.net
DJANGO_LOG_LEVEL=INFO

# Database Configuration (Azure PostgreSQL)
# Format: postgresql://username:password@servername.postgres.database.azure.com:5432/dbname?sslmode=require
DATABASE_URL=postgresql://your-username:your-password@your-server.postgres.database.azure.com:5432/intakt?sslmode=require

# Microsoft Graph API (Update redirect URI to production URL)
MICROSOFT_GRAPH_CLIENT_ID=<your-client-id>
MICROSOFT_GRAPH_CLIENT_SECRET=<your-client-secret>
MICROSOFT_GRAPH_TENANT_ID=<your-tenant-id>
MICROSOFT_GRAPH_REDIRECT_URI=https://in-tackt-portal-fph9efdudwd5gze6.westus2-01.azurewebsites.net/graph/callback/

# Social Auth (SSO) - Update redirect URI to production URL
SOCIAL_AUTH_REDIRECT_URI=https://in-tackt-portal-fph9efdudwd5gze6.westus2-01.azurewebsites.net/complete/azuread-tenant-oauth2/

# QuickBooks API (Update for production)
QUICKBOOKS_CLIENT_ID=<your-quickbooks-client-id>
QUICKBOOKS_CLIENT_SECRET=<your-quickbooks-client-secret>
QUICKBOOKS_REALM_ID=<your-realm-id>
QUICKBOOKS_ENVIRONMENT=production
QUICKBOOKS_REDIRECT_URI=https://in-tackt-portal-fph9efdudwd5gze6.westus2-01.azurewebsites.net/quickbooks/callback/

# CORS Settings (if needed for external API access)
CORS_ALLOWED_ORIGINS=https://in-tackt-portal-fph9efdudwd5gze6.westus2-01.azurewebsites.net

# Azure App Service automatically sets:
# WEBSITE_HOSTNAME - Don't set this manually
# SCM_DO_BUILD_DURING_DEPLOYMENT=true - For Oryx build

# Optional: Azure Application Insights (for monitoring)
# APPLICATIONINSIGHTS_CONNECTION_STRING=<your-connection-string>

# Optional: Redis (if using caching)
# REDIS_URL=<your-azure-redis-url>

# =============================================================
# IMPORTANT AZURE PORTAL CONFIGURATION STEPS:
# =============================================================

# 1. In Azure Portal, go to your App Service
# 2. Navigate to: Configuration > Application settings
# 3. Add each variable above as a new application setting
# 4. Click "Save" at the top
# 5. The app will restart automatically

# 6. CRITICAL: Update Azure AD App Registration:
#    - Go to Azure Portal > Azure Active Directory > App registrations
#    - Find your app (Microsoft Graph Client ID)
#    - Go to Authentication
#    - Add these Redirect URIs:
#      * https://in-tackt-portal-fph9efdudwd5gze6.westus2-01.azurewebsites.net/graph/callback/
#      * https://in-tackt-portal-fph9efdudwd5gze6.westus2-01.azurewebsites.net/complete/azuread-tenant-oauth2/

# 7. Update QuickBooks App Settings (if going production):
#    - Go to QuickBooks Developer Portal
#    - Update redirect URI to production URL

# =============================================================
# GENERATE A NEW SECRET KEY:
# =============================================================
# Run this in Python:
# >>> from django.core.management.utils import get_random_secret_key
# >>> print(get_random_secret_key())
